% Notes and exercises from Introduction to Real Analysis by DePree and Swartz
% By John Peloquin
\documentclass[letterpaper,12pt]{article}
\usepackage{amsmath,amssymb,amsthm,enumitem,fourier}

\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}

\newcommand{\upto}{\uparrow}
\newcommand{\downto}{\downarrow}

\newcommand{\union}{\cup}
\newcommand{\sect}{\cap}
\newcommand{\bigunion}{\bigcup}
\newcommand{\bigsect}{\bigcap}

\newcommand{\Rint}{R\!\int}
\newcommand{\dt}{\,d\!t}
\newcommand{\du}{\,d\!u}

\DeclareMathOperator{\Lap}{\mathcal{L}}

\newcommand{\abs}[1]{|{#1}|}
\newcommand{\pos}[1]{#1^{+}}
\renewcommand{\neg}[1]{#1^{-}}
\renewcommand{\vec}[1]{\boldsymbol{#1}}

% Theorems
\theoremstyle{plain}
\newtheorem*{thm}{Theorem}
\newtheorem*{prop}{Proposition}

\theoremstyle{definition}
\newtheorem*{exer}{Exercise}

\theoremstyle{remark}
\newtheorem*{rmk}{Remark}

% Meta
\title{Notes and exercises from\\\textit{Introduction to Real Analysis}}
\author{John Peloquin}
\date{}

\begin{document}
\maketitle

\section*{Introduction}
This document contains notes and exercises from~\cite{depree}.

\section*{Chapter~13}
We provide an alternative proof of the forward direction of Theorem~42.
\begin{thm} If \(f:[a,b]\to\R\) is integrable, then
\[\int_a^b f=\lim_{c\to a^+}\int_c^b f\]
\end{thm}
\begin{proof}
Note \(\int_c^b f\)~exists for all \(c\in[a,b]\) by Theorem~21. Now
\begin{align*}
\lim_{c\to a^+}\int_c^b f&=\lim_{c\to a^+}\Bigl[\,\int_a^b f-\int_a^c f\,\Bigr]&&\text{by Theorem~18}\\
	&=\int_a^b f-\lim_{c\to a^+}\int_a^c f&&\\
	&=\int_a^b f-\int_a^a f&&\text{by Theorem~27}\\
	&=\int_a^b f&&\qedhere
\end{align*}
\end{proof}
\begin{rmk}
We used the continuity of the indefinite integral (Theorem~27), which was proved using Henstock's Lemma (Lemma~25). The proof of the forward direction of Theorem~42 in the book unnecessarily repeats some ideas from the proof of Henstock's Lemma. See also the proof of the forward direction of Theorem~14.6 in the book.
\end{rmk}

\section*{Chapter~14}
\begin{exer}[12]
Let \(f:[a,\infty)\to\R\) be continuous and such that the indefinite integral \(F(x)=\int_a^x f\) is bounded. Let \(g:[a,\infty)\to\R\) be nonnegative, decreasing, and differentiable. Then \(\int_a^{\infty}fg\)~exists if either \(\lim_{x\to\infty}g(x)=0\) or \(\int_a^{\infty}f\)~exists.
\end{exer}
\begin{proof}
For \(b\in[a,\infty)\), \(fg\)~is continuous on~\([a,b]\), so \(\int_a^b fg\)~exists (Theorem~13.23). By the fundamental theorem of calculus (Theorem~13.28), \(F'=f\) on~\([a,b]\), so integration by parts (Proposition~13.17) yields
\[\int_a^b fg=\int_a^b F'g=F(b)g(b)-F(a)g(a)-\int_a^b Fg'=F(b)g(b)-\int_a^b Fg'\]
Now \(\lim_{b\to\infty}g(b)\) exists since \(g\)~is decreasing and bounded below by zero. If \(\lim_{b\to\infty}g(b)=0\), then boundedness of~\(F\) implies \(\lim_{b\to\infty}F(b)g(b)=0\). If \(\int_a^\infty f\) exists, then \(\lim_{b\to\infty}F(b)\) exists by the continuity of the indefinite integral at~\(\infty\) (Theorem~6), so \(\lim_{b\to\infty}F(b)g(b)\) exists.

We claim \(\int_a^{\infty}Fg'\) exists. First observe
\[\int_a^{\infty}g'=\lim_{b\to\infty}\int_a^bg'=\lim_{b\to\infty}[g(b)-g(a)]=\lim_{b\to\infty}g(b)-g(a)\]
exists by the continuity of the indefinite integral, the fundamental theorem of calculus, and the limit of~\(g\). Since \(g'\le0\),
\[\int_a^{\infty}\abs{g'}=\int_a^{\infty}-g'=-\int_a^{\infty}g'\]
also exists by linearity of the integral. Write \(\abs{F}\le M\). Then \(\abs{Fg'}\le M\abs{g'}\) and \(\int_a^{\infty}M\abs{g'}=M\int_a^{\infty}\abs{g'}\)~exists, so \(\int_a^{\infty}Fg'\) exists by comparison (Corollary~7).

Finally, by continuity of the indefinite integral twice more,
\[\int_a^{\infty}fg=\lim_{b\to\infty}F(b)g(b)-\int_a^{\infty}Fg'\qedhere\]
\end{proof}
\begin{rmk}
These are just Dirichlet's and Abel's tests for convergence of integrals, which are continuous versions of the corresponding discrete tests for infinite series of numbers (Exercises 4.22 and 4.25) and functions (Exercises 11.36 and 11.37). The proofs are essentially the same in the continuous and discrete cases, except integration by parts replaces summation by parts and absolute integrability replaces absolute convergence.
\end{rmk}
\begin{rmk}
Instead of assuming that \(g\)~is nonnegative and decreasing, we may assume only that \(g\)~is bounded and monotone.
\end{rmk}

\section*{Chapter~15}
\begin{rmk}
The dominated convergence theorem (Theorem~3) actually shows the \emph{absolute convergence} of~\(f\), by comparison (Corollary~13.33 and Exercise~47).
\end{rmk}

\begin{rmk}
In the proof of the general Leibniz differentiation rule for integrals (Corollary~9), to see that \(D_1G\)~is continuous, let \(\vec{v_0}=(x_0,y_0,z_0)\) and \(\vec{v}=(x,y,z)\) and observe that
\begin{align*}
\lim_{\vec{v}\to\vec{v_0}}D_1G(\vec{v})&=\lim_{\vec{v}\to\vec{v_0}}\int_y^z D_1f(x,t)\dt\\
	&=\lim_{\vec{v}\to\vec{v_0}}\Bigl[\,\int_y^{y_0}D_1f(x,t)\dt+\int_{y_0}^{z_0}D_1f(x,t)\dt+\int_{z_0}^z D_1f(x,t)\dt\Bigr]\\
	&=\lim_{\vec{v}\to\vec{v_0}}\int_y^{y_0}\!\!\!D_1f(x,t)\dt+\lim_{\vec{v}\to\vec{v_0}}\int_{y_0}^{z_0}\!\!\!D_1f(x,t)\dt+\lim_{\vec{v}\to\vec{v_0}}\int_{z_0}^z\!D_1f(x,t)\dt\\
	&=\lim_{x\to x_0}\int_{y_0}^{z_0}D_1f(x,t)\dt\tag{1}\\
	&=\int_{y_0}^{z_0}D_1f(x_0,t)\dt\tag{2}\\
	&=D_1G(\vec{v_0})
\end{align*}
where (1)~follows from the continuity of indefinite integrals (Theorem~13.27, see above) and (2)~follows from Theorem~5.\qed
\end{rmk}

\noindent We provide an alternative proof of Proposition~47.
\begin{prop}
Let \(f:\R\to\R\) and let \(\{E_i\}\)~be a family of pairwise disjoint subsets of~\(\R\) over each of which \(f\)~is absolutely integrable. Then \(f\)~is absolutely integrable over \(E=\bigunion_{i=1}^{\infty}E_i\) if and only if \(\sum_{i=1}^{\infty}\int_{E_i}\abs{f}<\infty\), in which case
\[\int_E\abs{f}=\sum_{i=1}^{\infty}\int_{E_i}\abs{f}\quad\text{and}\quad\int_E f=\sum_{i=1}^{\infty}\int_{E_i}f\]
\end{prop}
\begin{proof}
We decompose \(f\)~into positive and negative parts (Proposition~13.40(i)).

Since \(f\)~is absolutely integrable over each~\(E_i\), \(\pos{f}\)~and~\(\neg{f}\) are integrable over each~\(E_i\). Let \(S_n=\bigunion_{i=1}^n E_i\), so \(\{S_n\}\)~is increasing and \(E=\bigunion_{i=1}^{\infty}S_i\). By disjoint additivity (Proposition~12(ii)), \(\pos{f}\)~and~\(\neg{f}\) are integrable over each~\(S_n\) with
\[\int_{S_n}\pos{f}=\sum_{i=1}^n\int_{E_i}\pos{f}\quad\text{and}\quad\int_{S_n}\neg{f}=\sum_{i=1}^n\int_{E_i}\neg{f}\]
By monotone convergence (Proposition~16), \(\pos{f}\)~and~\(\neg{f}\) are integrable over~\(E\), and equivalently \(f\)~is absolutely integrable over~\(E\), if and only if
\[\lim_{n\to\infty}\int_{S_n}\pos{f}=\sum_{i=1}^{\infty}\int_{E_i}\pos{f}<\infty\quad\text{and}\quad\sum_{i=1}^{\infty}\int_{E_i}\neg{f}<\infty\tag{1}\]
in which case
\[\int_E\pos{f}=\sum_{i=1}^{\infty}\int_{E_i}\pos{f}\quad\text{and}\quad\int_E\neg{f}=\sum_{i=1}^{\infty}\int_{E_i}\neg{f}\]
Now if (1)~holds, then
\[\sum_{i=1}^{\infty}\int_{E_i}\abs{f}=\sum_{i=1}^{\infty}\int_{E_i}\bigl[\pos{f}+\neg{f}\bigr]=\int_E\pos{f}+\int_E\neg{f}=\int_E\abs{f}<\infty\]
and similarly
\[\sum_{i=1}^{\infty}\int_{E_i}f=\sum_{i=1}^{\infty}\int_{E_i}\bigl[\pos{f}-\neg{f}\bigr]=\int_E\pos{f}-\int_E\neg{f}=\int_E f\]
Conversely, if \(\sum_{i=1}^{\infty}\int_{E_i}\abs{f}<\infty\), then
\[\sum_{i=1}^n\int_{E_i}\pos{f}\le\sum_{i=1}^n\int_{E_i}\abs{f}\le\sum_{i=1}^{\infty}\int_{E_i}\abs{f}<\infty\]
and similarly for \(\sum_{i=1}^n\int_{E_i}\neg{f}\), so (1)~holds.
\end{proof}
\begin{rmk}
This result gives us \emph{countable additivity} of the integral over arbitrary (disjoint) sets, provided that we have absolute integrability over each of the sets and the sum of these integrals is finite.
\end{rmk}

\begin{exer}[1]
The monotone convergence theorem (Theorem~1) does not hold for the Riemann integral.
\end{exer}
\begin{proof}
Let \(I=[0,1]\), \(J=\Q\sect I=\{r_1,r_2,\ldots\}\), and \(J_k=\{r_1,\ldots,r_k\}\). Each~\(C_{J_k}\) has only finitely many discontinuities and so is R-integrable over~\(I\) with \(\Rint_0^1 C_{J_k}=0\) and hence \(\lim_{k\to\infty}\Rint_0^1 C_{J_k}=0\). Moreover, \(C_{J_k}\upto C_J\). However, \(C_J\)~is not R-integrable. (See also Example~12.4.)
\end{proof}

\begin{exer}[5]
The dominated convergence theorem (Theorem~3) does not hold for the Riemann integral.
\end{exer}
\begin{proof}
By the proof of Exercise~1, since \(\abs{C_{J_k}}\le 1\) and \(\Rint_0^1 1=1\).
\end{proof}

\begin{exer}[6 (Bounded convergence theorem)]
Let \(I\)~be a compact interval and suppose \(f_k,f:I\to\R\) with \(\abs{f_k}\le M\) and \(f_k\)~integrable for all \(k\ge1\). If \(f_k\to f\), then \(f\)~is integrable and \(\int_I f=\lim_{k\to\infty}\int_I f_k\).
\end{exer}
\begin{proof}
By the dominated convergence theorem, since \(\int_I M<\infty\).
\end{proof}
\begin{rmk}
This result does not hold for unbounded intervals~\(I\). For example, consider \(I=[0,\infty)\) and \(f_k(x)=e^{-x/k}\). Then \(\abs{f_k}\le 1\) on~\(I\) and \(\int_0^\infty f_k=k<\infty\) for all \(k\ge 1\). Also \(f_k\to 1\) on~\(I\). However, \(\int_0^\infty 1=\infty\).
\end{rmk}

\begin{exer}[7]
The bounded convergence theorem (Exercise~6) does not hold for the Riemann integral.
\end{exer}
\begin{proof}
By the proof of Exercise~5.
\end{proof}

\begin{exer}[9 (Laplace transform)]
Let \(f:[0,\infty)\to\R\) be continuous and define
\[\Lap\{f\}(x)=\int_0^{\infty}e^{-xt}f(t)\dt\]
If \(f\)~is of exponential order---that is, if there exist \(M>0\) and \(a\in\R\) such that \(\abs{f(t)}\le Me^{at}\) for all \(t>0\)---then \(\Lap\{f\}\)~defines a continuous function for \(x>a\).
\end{exer}
\begin{proof}
Define \(g(x,t)=e^{-xt}f(t)\). For fixed \(x>a\), \(\int_0^c g(x,t)\dt\) exists for all \(c\ge 0\) by continuity of~\(g\) in~\(t\). Also \(\abs{g(x,t)}\le Me^{(a-x)t}\) for \(t>0\) and \(\int_0^{\infty}e^{(a-x)t}\dt<\infty\), so \(\Lap\{f\}(x)=\int_0^{\infty}g(x,t)\dt\) exists by comparison.

For fixed \(t>0\), \(g\)~is continuous in~\(x\), so by the continuity of the integral (Theorem~5), \(\Lap\{f\}\)~is continuous for \(x>a\).
\end{proof}

\begin{exer}[12]
\(\Gamma\bigl(\frac{1}{2}\bigr)=\sqrt{\pi}\).
\end{exer}
\begin{proof}
We have
\begin{align*}
\Gamma\bigl(\tfrac{1}{2}\bigr)&=\int_0^{\infty}t^{-1/2}e^{-t}\dt&&\\
	&=2\int_0^{\infty}\frac{e^{-t}}{2\sqrt{t}}\dt&&\\
	&=2\int_0^{\infty}e^{-u^2}\du&&\text{by substitution of \(u=\sqrt{t}\)}\\
	&=2\Bigl(\frac{\sqrt{\pi}}{2}\Bigr)=\sqrt{\pi}&&\text{by Example~8}\qedhere
\end{align*}
\end{proof}

\begin{exer}[21]
The monotone additivity property (Proposition~16) does not hold for the Riemann integral.
\end{exer}
\begin{proof}
Let \(f=1\ge 0\). Let \(E=\Q\sect[0,1]=\{r_1,r_2,\ldots\}\) and \(E_k=\{r_1,\ldots,r_k\}\), so \(E_k\upto E\). Then \(\Rint_{E_k}f=0\), so \(\lim_{k\to\infty}\Rint_{E_k}f=0\), but \(f\)~is not R-integrable over~\(E\).
\end{proof}

\begin{exer}[22]
The countable additivity property (Proposition~17) does not hold the Riemann integral.
\end{exer}
\begin{proof}
As in the proof of Exercise~21, except let \(E_k=\{r_k\}\).
\end{proof}

% References
\begin{thebibliography}{0}
\bibitem{depree} DePree, John~D. and Charles W. Swartz. \textit{Introduction to Real Analysis.} Wiley, 1988.
\end{thebibliography}
\end{document}
